USE DATASETS;

DROP TABLE IF EXISTS T_POINTS;

CREATE TABLE T_POINTS
(
	POINT_ID	INTEGER NOT NULL PRIMARY KEY,
	DATASET_ID	INTEGER NOT NULL,
	ROUTE_ID		INTEGER NOT NULL,
	LNG			REAL, /* longitude */
	LAT			REAL,
	ALT			REAL,
	PT_TIME		DATETIME
);

ALTER TABLE T_POINTS ADD FOREIGN KEY FK_T_POINTS_DS(DATASET_ID) REFERENCES T_DATASETS(DATASET_ID) ON UPDATE CASCADE ON DELETE CASCADE;

ALTER TABLE T_POINTS ADD FOREIGN KEY FK_T_RUT_PTS (ROUTE_ID) REFERENCES T_ROUTES(ROUTE_ID) ON UPDATE CASCADE ON DELETE CASCADE;
